function submitForm(){$("form").submit()}var jsKeyboard={settings:{buttonClass:"button",onclick:"jsKeyboard.write();",keyClass:"key",text:{close:"close"}},keyboard:[],init:function(e,a){jsKeyboard.keyboard["default"]=jsKeyboard.defaultKeyboard,jsKeyboard.keyboardLayout=e,null!=a&&void 0!=a?jsKeyboard.generateKeyboard(a):jsKeyboard.generateKeyboard("default"),jsKeyboard.addKeyDownEvent(),jsKeyboard.show(),$(":input").not('[type="reset"]').not('[type="submit"]').on("focus, click",function(){jsKeyboard.currentElement=$(this),jsKeyboard.currentElementCursorPosition=$(this).getCursorPosition(),console.log("keyboard is now focused on "+jsKeyboard.currentElement.attr("name")+" at pos("+jsKeyboard.currentElementCursorPosition+")")})},focus:function(e){jsKeyboard.currentElement=$(e),jsKeyboard.show()},keyboardLayout:"",currentKeyboard:"default",currentElement:null,generateKeyboard:function(e){function a(e){t=void 0==e.buttonClass?jsKeyboard.settings.buttonClass:e.buttonClass,l=void 0==e.keyClass?jsKeyboard.settings.keyClass:e.keyClass,o=void 0==e.onclick?jsKeyboard.settings.onclick.replace("()","("+e.value+")"):e.onclick,s=void 0!=e.isChar||0==e.isChar?e.value:String.fromCharCode(e.value),n+='<div class="'+t+'" onclick="'+o+'"><div class="'+l+'">'+s+"</div></div>",t="",l="",o="",s=""}var t="",l="",o="",s="",n="";n+='<div id="keyboard">',n+='<div id="keyboardHeader">',n+="</div>",n+='<div id="keyboardSmallLetter">',$.each(jsKeyboard.keyboard[e].smallLetter,function(e,t){a(t)}),n+="</div>",n+='<div id="keyboardCapitalLetter">',$.each(jsKeyboard.keyboard[e].capitalLetter,function(e,t){a(t)}),n+="</div>",n+='<div id="keyboardNumber">',$.each(jsKeyboard.keyboard[e].number,function(e,t){a(t)}),n+="</div>",n+='<div id="keyboardSymbols">',$.each(jsKeyboard.keyboard[e].symbols,function(e,t){a(t)}),n+="</div>",$("#"+jsKeyboard.keyboardLayout).html(n)},addKeyDownEvent:function(){$("#keyboardCapitalLetter > div.button, #keyboardSmallLetter > div.button, #keyboardNumber > div.button, #keyboardSymbols > div.button").bind("mousedown",function(){$(this).addClass("buttonDown")}).bind("mouseup",function(){$(this).removeClass("buttonDown")}).bind("mouseout",function(){$(this).removeClass("buttonDown")})},changeToSmallLetter:function(){$("#keyboardCapitalLetter,#keyboardNumber,#keyboardSymbols").css("display","none"),$("#keyboardSmallLetter").css("display","block")},changeToCapitalLetter:function(){$("#keyboardCapitalLetter").css("display","block"),$("#keyboardSmallLetter,#keyboardNumber,#keyboardSymbols").css("display","none")},changeToNumber:function(){$("#keyboardNumber").css("display","block"),$("#keyboardSymbols,#keyboardCapitalLetter,#keyboardSmallLetter").css("display","none")},changeToSymbols:function(){$("#keyboardCapitalLetter,#keyboardNumber,#keyboardSmallLetter").css("display","none"),$("#keyboardSymbols").css("display","block")},updateCursor:function(){jsKeyboard.currentElement.setCursorPosition(jsKeyboard.currentElementCursorPosition)},write:function(e){var a=jsKeyboard.currentElement.val(),t=String.fromCharCode(e),l=jsKeyboard.currentElementCursorPosition,o=[a.slice(0,l),t,a.slice(l)].join("");jsKeyboard.currentElement.val(o),jsKeyboard.currentElementCursorPosition++,jsKeyboard.updateCursor()},del:function(){var e=jsKeyboard.currentElement.val(),a=jsKeyboard.currentElementCursorPosition,t=[e.slice(0,a-1),e.slice(a)].join("");jsKeyboard.currentElement.val(t),jsKeyboard.currentElementCursorPosition--,jsKeyboard.updateCursor()},enter:function(){var e=jsKeyboard.currentElement.val();jsKeyboard.currentElement.val(e+"\n")},space:function(){var e=jsKeyboard.currentElement.val(),a=" ",t=jsKeyboard.currentElementCursorPosition,l=[e.slice(0,t),a,e.slice(t)].join("");jsKeyboard.currentElement.val(l),jsKeyboard.currentElementCursorPosition++,jsKeyboard.updateCursor()},writeSpecial:function(e){var a=jsKeyboard.currentElement.val(),t=String.fromCharCode(e),l=jsKeyboard.currentElementCursorPosition,o=[a.slice(0,l),t,a.slice(l)].join("");jsKeyboard.currentElement.val(o),jsKeyboard.currentElementCursorPosition++,jsKeyboard.updateCursor()},show:function(){$("#keyboard").animate({bottom:"0"},"slow",function(){})},hide:function(){$("#keyboard").animate({bottom:"-350px"},"slow",function(){})},defaultKeyboard:{capitalLetter:[{value:81},{value:87},{value:69},{value:82},{value:84},{value:89},{value:85},{value:73},{value:79},{value:80},{value:"<-",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:65,buttonClass:"button button_a"},{value:83},{value:68},{value:70},{value:71},{value:72},{value:74},{value:75},{value:76},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"submitForm();",keyClass:"key key_enter"},{value:"abc",isChar:"false",buttonClass:"button button_smallletter",onclick:"jsKeyboard.changeToSmallLetter();",keyClass:"key key_smallletter"},{value:90},{value:88},{value:67},{value:86},{value:66},{value:78},{value:77},{value:44},{value:46},{value:64},{value:"123",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToNumber();",keyClass:"key key_number"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"#%+",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToSymbols();",keyClass:"key key_symbols"}],smallLetter:[{value:113},{value:119},{value:101},{value:114},{value:116},{value:121},{value:117},{value:105},{value:111},{value:112},{value:"<-",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:97,buttonClass:"button button_a"},{value:115},{value:100},{value:102},{value:103},{value:104},{value:106},{value:107},{value:108},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"ABC",isChar:"false",buttonClass:"button button_capitalletterleft",onclick:"jsKeyboard.changeToCapitalLetter();",keyClass:"key key_capitalletterleft"},{value:122},{value:120},{value:99},{value:118},{value:98},{value:110},{value:109},{value:44},{value:46},{value:64},{value:"123",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToNumber();",keyClass:"key key_number"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"#%+",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToSymbols();",keyClass:"key key_symbols"}],number:[{value:49},{value:50},{value:51},{value:52},{value:53},{value:54},{value:55},{value:56},{value:57},{value:48},{value:"<-",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:45,buttonClass:"button button_dash"},{value:47},{value:58},{value:59},{value:40},{value:41},{value:36},{value:38},{value:64},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"",isChar:"false",buttonClass:"button button_capitalletterleft",onclick:"",keyClass:"key"},{value:63},{value:33},{value:34},{value:124},{value:92},{value:42},{value:61},{value:43},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"ABC",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToCapitalLetter();",keyClass:"key key_capitalletterleft"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"#%+",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToSymbols();",keyClass:"key key_symbols"}],symbols:[{value:91},{value:93},{value:123},{value:125},{value:35},{value:37},{value:94},{value:42},{value:43},{value:61},{value:"<-",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:95,buttonClass:"button button_underscore"},{value:92},{value:124},{value:126},{value:60},{value:62},{value:"&euro;",isChar:"false",onclick:"jsKeyboard.writeSpecial('&euro;');"},{value:163},{value:165},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"",isChar:"false",buttonClass:"button button_capitalletterleft",onclick:"",keyClass:"key"},{value:46},{value:44},{value:63},{value:33},{value:39},{value:34},{value:59},{value:92},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"123",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToNumber();",keyClass:"key key_number"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"ABC",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToCapitalLetter();",keyClass:"key key_capitalletterleft"}]}};jQuery.fn.getCursorPosition=function(){return 0==this.lengh?-1:$(this).getSelectionStart()},jQuery.fn.getSelectionStart=function(){if(0==this.lengh)return-1;input=this[0];var e=input.value.length;if(input.createTextRange){var a=document.selection.createRange().duplicate();a.moveEnd("character",input.value.length),""==a.text&&(e=input.value.length),e=input.value.lastIndexOf(a.text)}else"undefined"!=typeof input.selectionStart&&(e=input.selectionStart);return e},jQuery.fn.setCursorPosition=function(e){return this.each(function(a,t){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var l=t.createTextRange();l.collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select()}}),this},$(function(){jsKeyboard.init("virtualKeyboard");var e=$(":input").first().focus();jsKeyboard.currentElement=e,jsKeyboard.currentElementCursorPosition=0,jsKeyboard.changeToCapitalLetter()});
